{"version":3,"sources":["../../src/MessageBlock.ts"],"names":["isEmptyObject","MessageBlock","style","Object","constructor","text","_text","push","key","value","check","has","undefined","color","background","marginLeft","marginRight","marginTop","marginBottom","margin","vValue","hValue","padding","offsetLeft","offsetRight","borderRadius","border","width","size","bold","italic","lineHeight","height","image","url","getText","getStyle","hasStyle","clearStyle","toJSON","JSON","stringify","instance","block"],"mappings":"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","sourcesContent":["import { isEmptyObject } from './utils'\n\nexport interface MessageBlockStyle {\n  [index: string]: any\n\n  color?: string\n  background?: string\n}\n\nclass MessageBlock {\n  private _text: string\n  private style: MessageBlockStyle = new Object(null)\n\n  constructor(text: string) {\n    this._text = text\n  }\n\n  push(key: string, value: string, check: boolean = false): this {\n    if (!check || !this.has('color')) {\n      this.style[key] = value\n    }\n\n    return this\n  }\n\n  has(key: string): boolean {\n    return this.style[key] !== undefined\n  }\n\n  color(value: string, check: boolean = false): this {\n    return this.push('color', value, check)\n  }\n\n  background(value: string, check: boolean = false): this {\n    return this.push('background', value, check)\n  }\n\n  marginLeft(value: number, check: boolean = false): this {\n    if (value != 0) {\n      return this.push('margin-left', `${value}px`, check)\n    }\n    return this\n  }\n\n  marginRight(value: number, check: boolean = false): this {\n    if (value != 0) {\n      return this.push('margin-right', `${value}px`, check)\n    }\n    return this\n  }\n\n  marginTop(value: number, check: boolean = false): this {\n    return this.push('margin-top', `${value}px`, check)\n  }\n\n  marginBottom(value: number, check: boolean = false): this {\n    return this.push('margin-bottom', `${value}px`, check)\n  }\n\n  margin(vValue: number, hValue?: number, check: boolean = false): this {\n    let value = vValue === 0 ? '' : `${vValue}px`\n    if (hValue !== undefined) {\n      value += ` ${hValue}px`\n    }\n    return this.push('margin', value, check)\n  }\n\n  padding(vValue: number, hValue?: number, check: boolean = false): this {\n    let value = vValue === 0 ? '' : `${vValue}px`\n    if (hValue !== undefined) {\n      value += ` ${hValue}px`\n    }\n    return this.push('padding', value, check)\n  }\n\n  offsetLeft(value: number, check: boolean = false): this {\n    return this.marginLeft(value * 10, check)\n  }\n\n  offsetRight(value: number, check: boolean = false): this {\n    return this.marginRight(value * 10, check)\n  }\n\n  borderRadius(value: number, check: boolean = false): this {\n    return this.push('border-radius', `${value}px`, check)\n  }\n\n  border(width: number, style: string, color: string, check: boolean = false): this {\n    return this.push('border', `${width}px ${style} ${color}`, check)\n  }\n\n  size(value: number, check: boolean = false): this {\n    return this.push('font-size', `${value}px`, check)\n  }\n\n  bold(check: boolean = false): this {\n    return this.push('font-weight', 'bold', check)\n  }\n\n  italic(check: boolean = false): this {\n    return this.push('font-style', 'italic', check)\n  }\n\n  lineHeight(value: number, check: boolean = false): this {\n    return this.push('line-height', `${value}px`, check)\n  }\n\n  width(value?: number, check: boolean = false): this {\n    return value ? this.push('width', `${value}px`, check) : this\n  }\n\n  height(value?: number, check: boolean = false): this {\n    return value ? this.push('height', `${value}px`, check) : this\n  }\n\n  image(url: string, width?: number, height?: number): this {\n    return this.push('background-image', `url(${url}}`).push('background-size', `cover`).width(width).height(height)\n  }\n\n  text(value: string): this {\n    this._text = value\n\n    return this\n  }\n\n  getText(): string {\n    return this._text\n  }\n\n  getStyle(): MessageBlockStyle {\n    return this.style\n  }\n\n  hasStyle(): boolean {\n    return !isEmptyObject(this.style)\n  }\n\n  clearStyle(): this {\n    this.style = new Object(null)\n\n    return this\n  }\n\n  toJSON(): string {\n    return JSON.stringify({\n      _text: this._text,\n      style: this.style,\n    })\n  }\n\n  static instance(block: MessageBlock | string): MessageBlock {\n    return block instanceof MessageBlock ? block : new MessageBlock(block)\n  }\n}\n\nexport default MessageBlock\n"],"file":"MessageBlock.js"}